# üì± PWA Integration Summary - Rizko.ai

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **PWA Hooks** (`/client/src/hooks/`)

#### `usePWA.ts` - –û—Å–Ω–æ–≤–Ω–æ–π PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ **Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è `/sw.js`
- ‚úÖ **Install prompt** - —Å–æ–±—ã—Ç–∏–µ `beforeinstallprompt` –¥–ª—è –ø–æ–∫–∞–∑–∞ –±–∞–Ω–Ω–µ—Ä–∞
- ‚úÖ **Offline detection** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ `online`/`offline` —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **Update detection** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö
- ‚úÖ **Install state** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

#### `useHaptic()` - –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
```typescript
haptic.light()   // 10ms –≤–∏–±—Ä–∞—Ü–∏—è
haptic.medium()  // 20ms
haptic.heavy()   // 30ms
haptic.success() // [10, 50, 10] –ø–∞—Ç—Ç–µ—Ä–Ω
haptic.error()   // [30, 50, 30] –ø–∞—Ç—Ç–µ—Ä–Ω
```

#### `useNetworkStatus()` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç–∏
```typescript
{
  online: boolean,
  type: '4g' | '3g' | '2g' | 'wifi',
  downlink: number, // Mbps
  rtt: number,      // Round trip time
  saveData: boolean // Data saver mode
}
```

#### `useMobile.ts` - –ú–æ–±–∏–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **useIsMobile()** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ **useSwipe()** - –¥–µ—Ç–µ–∫—Ü–∏—è swipe –∂–µ—Å—Ç–æ–≤ (left/right)

---

### 2. **PWA Components** (`/client/src/components/`)

#### `ErrorBoundary.tsx` - –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫ React
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞" –∏ "–ù–∞ –≥–ª–∞–≤–Ω—É—é"
- ‚úÖ Dev mode - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–µ–∫ –æ—à–∏–±–∫–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å

#### `Logo.tsx` - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–æ–≥–æ—Ç–∏–ø–∞
```tsx
<Logo size="sm" | "md" | "lg" | "xl" showText={true/false} />
```

#### `PasswordStrength.tsx` - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
- ‚úÖ 4 —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–æ—á–µ–Ω—å —Å–ª–∞–±—ã–π ‚Üí –æ—Ç–ª–∏—á–Ω—ã–π)
- ‚úÖ –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–∫—Ä–∞—Å–Ω—ã–π ‚Üí –∂–µ–ª—Ç—ã–π ‚Üí –∑–µ–ª–µ–Ω—ã–π)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:
  - –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
  - –ó–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
  - –°—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞
  - –¶–∏—Ñ—Ä–∞

---

### 3. **App.tsx Integration**

#### PWAInstallBanner Component
**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (`isInstallable === true`)
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (`isInstalled === false`)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- **Desktop**: –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª (`fixed bottom-4 right-4`)
- **Mobile**: –ù–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —Å–Ω–∏–∑—É (`fixed bottom-4 left-4 right-4`)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" —Å –∏–∫–æ–Ω–∫–æ–π Download
- ‚úÖ Haptic feedback –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ (medium vibration)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

#### Update Banner
**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:**
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (`updateAvailable === true`)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- **–í–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞** –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É (`fixed top-0`)

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å"
- ‚úÖ Success haptic –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### Offline/Online Toasts
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- ‚ö†Ô∏è **–û—Ñ–ª–∞–π–Ω**: "–í—ã –æ—Ñ–ª–∞–π–Ω - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"
- ‚úÖ **–û–Ω–ª–∞–π–Ω**: "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - –ü–æ–¥–∫–ª—é—á–µ–Ω–æ —á–µ—Ä–µ–∑ 4g/wifi"

#### Swipe Gestures
**Mobile Navigation:**
- ‚úÖ **Swipe Right** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é
- ‚úÖ Light haptic feedback –ø—Ä–∏ —Å–≤–∞–π–ø–µ
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω –Ω–∞ `<div className="flex-1 flex flex-col">`

#### Error Boundary Wrapper
```tsx
<ErrorBoundary>
  <DevAccessGate>
    <BrowserRouter>
      {/* All app content */}
    </BrowserRouter>
  </DevAccessGate>
</ErrorBoundary>
```

---

### 4. **Configuration System** (`/client/src/lib/config.ts`)

#### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
```typescript
export const apiConfig = {
  baseUrl: getApiBaseUrl(),
  wsUrl: getWsUrl(),
  timeout: 120000,
  maxRetries: 3,
  retryDelay: 1000,
};

export const AUTH_STORAGE_KEY = 'rizko_auth';

export const features = {
  pwa: true,
  hapticFeedback: true,
  swipeGestures: true,
  offlineMode: true,
};
```

---

### 5. **Service Worker** (`/client/public/sw.js`)

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - app shell, HTML, manifest
- ‚úÖ **Cache-first —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫—ç—à–∞
- ‚úÖ **Network fallback** - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Å–µ—Ç–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫—ç—à–∞
- ‚úÖ **Update management** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞
- ‚úÖ **Skip waiting** - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

#### Cache Name
```javascript
const CACHE_NAME = 'rizko-ai-v1';
```

---

### 6. **Manifest.json** (`/client/public/manifest.json`)

#### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```json
{
  "name": "Rizko.ai - TikTok Trend Analysis Platform",
  "short_name": "Rizko.ai",
  "display": "standalone",
  "theme_color": "#9333ea",
  "background_color": "#000000",
  "lang": "ru"
}
```

#### Shortcuts (Long Press)
**3 –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è:**
1. **Dashboard** ‚Üí `/dashboard`
2. **Saved Videos** ‚Üí `/dashboard/saved`
3. **Discover** ‚Üí `/dashboard/discover`

#### Icons
- ‚úÖ favicon.png (32x32)
- ‚úÖ logo192.png (192x192)
- ‚úÖ logo512.png (512x512)

---

### 7. **Package.json Updates**

#### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```json
"@dnd-kit/core": "^6.3.1",
"@dnd-kit/sortable": "^10.0.0",
"@dnd-kit/utilities": "^3.2.2"
```

#### Dev Dependencies (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
```json
"@testing-library/jest-dom": "^6.4.0",
"@testing-library/react": "^14.2.0",
"@testing-library/user-event": "^14.5.0",
"jsdom": "^24.0.0",
"vitest": "^1.3.0"
```

#### –ù–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
```json
"test": "vitest",
"test:ui": "vitest --ui",
"coverage": "vitest run --coverage"
```

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Desktop View
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Dashboard Content                              ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ                        ‚îÇ [R] Install Rizko.ai ‚îÇ ‚îÇ
‚îÇ                        ‚îÇ Add to home screen   ‚îÇ ‚îÇ
‚îÇ                        ‚îÇ [üì• Install]         ‚îÇ ‚îÇ
‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Mobile View
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Dashboard Content                  ‚îÇ
‚îÇ                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [R] Install Rizko.ai            ‚îÇ ‚îÇ
‚îÇ ‚îÇ Add to home screen              ‚îÇ ‚îÇ
‚îÇ ‚îÇ [üì• Install]                    ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Update Banner
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîÑ –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ   [–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å]      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Dashboard                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PWA

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç –≤ Chrome/Safari –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
2. –í–∏–¥–∏—Ç –±–∞–Ω–Ω–µ—Ä "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Rizko.ai"
3. –ù–∞–∂–∏–º–∞–µ—Ç "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"
4. –ò–∫–æ–Ω–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:**
```typescript
// Browser triggers event
window.addEventListener('beforeinstallprompt', (e) => {
  // Show install banner
  setIsInstallable(true);
});

// User clicks Install
deferredPrompt.prompt();
const { outcome } = await deferredPrompt.userChoice;
```

### 2. Offline Mode

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –ü–æ—Ç–µ—Ä—è–ª –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí –≤–∏–¥–∏—Ç toast "–í—ã –æ—Ñ–ª–∞–π–Ω"
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫—ç—à–∞
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí toast "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:**
```typescript
window.addEventListener('offline', () => {
  toast.warning('–í—ã –æ—Ñ–ª–∞–π–Ω');
});

window.addEventListener('online', () => {
  toast.success('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
});
```

### 3. Swipe Gestures

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é
- –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –∂–µ—Å—Ç–µ

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:**
```typescript
const swipeHandlers = useSwipe(
  undefined, // left swipe
  () => {
    haptic.light();
    setMobileMenuOpen(true);
  }
);

<div {...swipeHandlers}>
  {/* Content */}
</div>
```

### 4. Haptic Feedback

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- üì± –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" ‚Üí `medium()`
- üì± –°–≤–∞–π–ø –º–µ–Ω—é ‚Üí `light()`
- üì± –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí `success()`
- üì± –ù–∞–≤–∏–≥–∞—Ü–∏—è ‚Üí `light()`

---

## üìù Settings Page - –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô

**Usage Tab –æ—Å—Ç–∞–ª—Å—è –∫–∞–∫ –µ—Å—Ç—å:**
- ‚úÖ Credits Breakdown
- ‚úÖ Activity Stats
- ‚úÖ Auto Mode Toggle
- ‚úÖ Plan Information

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
npm run test          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npm run test:ui       # UI –¥–ª—è —Ç–µ—Å—Ç–æ–≤
npm run coverage      # Coverage –æ—Ç—á–µ—Ç
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ PWA
1. **Install Banner:**
   - –û—Ç–∫—Ä—ã—Ç—å –≤ Chrome DevTools
   - Application ‚Üí Manifest ‚Üí ‚úÖ No errors
   - Application ‚Üí Service Workers ‚Üí ‚úÖ Registered

2. **Offline Mode:**
   - Network tab ‚Üí Offline
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–∑ –∫—ç—à–∞

3. **Swipe Gestures:**
   - –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º
   - –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ ‚Üí –º–µ–Ω—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

4. **Haptic Feedback:**
   - –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - –ù–∞–∂–∞—Ç–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –≤–∏–±—Ä–∞—Ü–∏—é

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd client
npm install --legacy-peer-deps
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–ª–∞–≥ `--legacy-peer-deps` –Ω–µ–æ–±—Ö–æ–¥–∏–º –∏–∑-–∑–∞ React 19, —Ç.–∫. @testing-library/react –ø–æ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç React 18.

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (7 –Ω–æ–≤—ã—Ö)
1. ‚úÖ `/client/src/hooks/usePWA.ts` (241 —Å—Ç—Ä–æ–∫–∞)
2. ‚úÖ `/client/src/hooks/useMobile.ts` (61 —Å—Ç—Ä–æ–∫–∞)
3. ‚úÖ `/client/src/components/ErrorBoundary.tsx` (104 —Å—Ç—Ä–æ–∫–∏)
4. ‚úÖ `/client/src/components/Logo.tsx` (43 —Å—Ç—Ä–æ–∫–∏)
5. ‚úÖ `/client/src/components/PasswordStrength.tsx` (80 —Å—Ç—Ä–æ–∫)
6. ‚úÖ `/client/src/lib/config.ts` (49 —Å—Ç—Ä–æ–∫)
7. ‚úÖ `/client/public/sw.js` (67 —Å—Ç—Ä–æ–∫)

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (2)
1. ‚úÖ `/client/src/App.tsx` (+108 —Å—Ç—Ä–æ–∫)
2. ‚úÖ `/client/public/manifest.json` (+16 —Å—Ç—Ä–æ–∫)
3. ‚úÖ `/client/package.json` (+8 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, +3 —Å–∫—Ä–∏–ø—Ç–∞)

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ù–æ–≤—ã–π –∫–æ–¥:** ~650 —Å—Ç—Ä–æ–∫
- **–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 8
- **–ù–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:** 3
- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0.0 ‚Üí 2.0.0

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PWA

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º** - –±–µ–∑ App Store/Google Play
- ‚úÖ **–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ù–∞—Ç–∏–≤–Ω—ã–π –æ–ø—ã—Ç** - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º, –±–µ–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- ‚úÖ **Haptic feedback** - –≤–∏–±—Ä–∞—Ü–∏—è –∫–∞–∫ –≤ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- ‚úÖ **Swipe gestures** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### –î–ª—è –±–∏–∑–Ω–µ—Å–∞
- ‚úÖ **–ù–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤** - 0% vs 30% Apple/Google
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ App Store
- ‚úÖ **–ú–µ–Ω—å—à–µ –∑–∞—Ç—Ä–∞—Ç** - –æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –≤–º–µ—Å—Ç–æ iOS + Android
- ‚úÖ **–í—ã—à–µ –∫–æ–Ω–≤–µ—Ä—Å–∏—è** - –ª–µ–≥—á–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å = –±–æ–ª—å—à–µ —É—Å—Ç–∞–Ω–æ–≤–æ–∫
- ‚úÖ **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –±—É–¥—É—â–µ–º

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Web Push API
2. **Background Sync** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ–Ω–µ
3. **Share API** - –Ω–∞—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
4. **Add to Home Screen** - –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è iOS
5. **App Shortcuts** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ shortcuts –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ PWA
- **Lighthouse** - –ø—Ä–æ–≤–µ—Ä–∫–∞ PWA score (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 100/100)
- **Analytics** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–æ–∫ PWA
- **Service Worker Updates** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### PWA Standards
- [MDN Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
- [Vibration API](https://developer.mozilla.org/en-US/docs/Web/API/Vibration_API)

### Testing
- [Vitest Docs](https://vitest.dev/)
- [React Testing Library](https://testing-library.com/react)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç–∏

- [x] PWA hooks —Å–æ–∑–¥–∞–Ω—ã (usePWA, useHaptic, useNetworkStatus, useSwipe)
- [x] PWA –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (ErrorBoundary, Logo, PasswordStrength)
- [x] PWAInstallBanner –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ App.tsx
- [x] Swipe gestures –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Haptic feedback —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Service Worker —Å–æ–∑–¥–∞–Ω
- [x] Manifest.json –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] Package.json –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [x] Settings/Usage page –ù–ï –∏–∑–º–µ–Ω–µ–Ω ‚úÖ

---

**–ê–≤—Ç–æ—Ä:** Claude Sonnet 4.5
**–î–∞—Ç–∞:** 6 —Ñ–µ–≤—Ä–∞–ª—è 2026
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 2.0.0
